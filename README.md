# manticore-for-bitrix

Необходимо на сервер установить Manticore.

wget https://github.com/manticoresoftware/manticoresearch/releases/download/3.4.0/manticore_3.4.0-200326-0686d9f-release.jessie_amd64-bin.deb

sudo dpkg -i manticore_3.4.0-200326-0686d9f-release.jessie_amd64-bin.deb

systemctl start manticore - запускаем службу

systemctl enable manticore - устанавливаем службу в автозапуск


1) Разворачиваем пакет.

2) Файл letsrock_search.php вставляем в директорию /bitrix/admin/. В данном файле так же находятся ajax запросы на поисковой контроллер. При необходимости, поменяйте пути на собственные.

3) В админке перейдите по адресу  /bitrix/admin/letsrock_search.php и выделите страницу избранной. 

4) Добавляйте необходимые для индексации инфоблоки. Все подверженные индексации инфоблоки, элементы, свойства будут показаны на странице.

5) Чтобы осуществить первую переиндексацию, необходимо создать название индекса, предварительно задав для него имя, по умолчанию рекомендуется использовать название bitrix.

6) Переиндексация осуществляется нажатием на одноименную кнопку. Переиндексацию можно совершать только для созданного индекса.

7) Можно проверить индекс на существование и совершить запросы на поиск (в данный момент результаты поиска можно увидеть только в консоли во вкладке network).

8) При добавлении новых инфоблоков и свойств для индексации рекомендуется пересоздать индекс, так как возможны структурные изменения индекса.

9) На странице результатов поиска совершите поисковой запрос, результаты поискового запроса можно вывести в публичную часть или, например, передать полученные ID элементов напрямую в catalog.section